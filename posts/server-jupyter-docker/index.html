<!doctype html><html lang=en><head><title>Run jupyter notebook in docker container on remote server</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=/application.650f674fc19266f4ea6c7b54bb6a4ffad10dfa641e3bea6de0a8472a99807590.css integrity="sha256-ZQ9nT8GSZvTqbHtUu2pP+tEN+mQeO+pt4KhHKpmAdZA="><link rel=icon type=image/png href=/images/site/zk-favicon_hube1e813c2c2088aca28be8f9b74a2dca_16753_42x0_resize_box_3.png><meta property="og:title" content="Run jupyter notebook in docker container on remote server"><meta property="og:description" content="Tutorial of jupyter notebook with docker container"><meta property="og:type" content="article"><meta property="og:url" content="https://zekun-li.github.io/posts/server-jupyter-docker/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-08-08T00:00:00+00:00"><meta property="article:modified_time" content="2021-08-08T00:00:00+00:00"><meta name=description content="Tutorial of jupyter notebook with docker container"><script async src="https://www.googletagmanager.com/gtag/js?id=G-DEQFKK2CDH"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-DEQFKK2CDH",{anonymize_ip:!1})}</script></head><body class="type-posts kind-page" data-spy=scroll data-target=#TableOfContents data-offset=80><div class="container-fluid bg-dimmed wrapper"><nav class="navbar navbar-expand-xl top-navbar final-navbar shadow"><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<span class=navbar-toggler-icon></span></button>
<a class=navbar-brand href=/><img src=/images/site/zk-main-transp_huafc6864d78c8fdec171d529e6199f4b7_107023_42x0_resize_box_3.png alt=Logo>
Zekun's Zone</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse lang-selector" id=top-nav-items><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=menu-icon-center src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme"></a>
<a class="dropdown-item nav-link" href=# data-scheme=dark><img class=menu-icon-center src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a>
<a class="dropdown-item nav-link" href=# data-scheme=system><img class=menu-icon-center src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div><img src=/images/site/zk-main-transp_huafc6864d78c8fdec171d529e6199f4b7_107023_42x0_resize_box_3.png class=d-none id=main-logo alt=Logo>
<img src=/images/site/zk-inverted-transp_hu109326400271da0b02bd55eeaf589ffc_103282_42x0_resize_box_3.png class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts/ data-filter=all>Posts</a></li><div class=subtree><li><a class=active href=/posts/server-jupyter-docker/ title="Run jupyter notebook in docker container on remote server">Run jupyter notebook in docker container on remote server</a></li><li><a href=/posts/cuda-error/ title="CUDA Errors and Solutions">CUDA Errors and Solutions</a></li><li><a href=/posts/clean-boot-dir/ title="Clean up boot directory when full">Clean up boot directory when full</a></li><li><a href=/posts/chatgpt-translation/ title="ChatGPT for Novel Translation">ChatGPT for Novel Translation</a></li><li><a href=/posts/mapbox/ title="Display JPEG historical map tiles in Mapbox">Display JPEG historical map tiles in Mapbox</a></li><li><a href=/posts/mapnik/ title="Experience with Mapnik">Experience with Mapnik</a></li><li><a href=/posts/common-commands/ title="Common Commands">Common Commands</a></li><li><a href=/posts/dual-monitor/ title="Dual Monitors with Ubuntu 16.04 LTS">Dual Monitors with Ubuntu 16.04 LTS</a></li><li><a href=/posts/pi-timelapse/ title="Raspberry Pi Timelapse Video">Raspberry Pi Timelapse Video</a></li><li><a href=/posts/ssh-timeout/ title="Stop SSH connection from timeout">Stop SSH connection from timeout</a></li><li><a href=/posts/pi-connect-wifi/ title="Raspberry Pi Connect To WIFI with Command">Raspberry Pi Connect To WIFI with Command</a></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(/posts/server-jupyter-docker/hero.png)></div><div class=page-content><div class="author-profile ml-auto align-self-lg-center"><img class=rounded-circle src=/images/author/zekun_hub35c5a96dbe046beec5ae87b3c28a938_421003_120x120_fit_box_3.png alt="Author Image"><h5 class=author-name>Zekun Li</h5><p>Sunday, August 8, 2021</p></div><div class=title><h1>Run jupyter notebook in docker container on remote server</h1></div><div class=taxonomy-terms><ul style=padding-left:0><li class=rounded><a href=/tags/docker/ class="btn, btn-sm">docker</a></li><li class=rounded><a href=/tags/command/ class="btn, btn-sm">command</a></li></ul></div><div class=post-content id=post-content><p><strong>Jupyter notebook</strong> is an extremely convieninent tool for debugging a piece of code. It runs on browser and allows you to run code piece by piece instead of fresh from the begining. With docker, jupyter notebook is slightly more confusing than it is on local machine. This short article talks about how to correctly forward the port to run jupyter notebook in docker container on remote server.</p><p>We will have three locations to deal with; local machine, remote server, docker container. The port forwarding will build a link docker container -> remote server -> local machine.</p><p>Same as usual, you should first log onto the server through ssh (see sample code below). You should replace <code>zekunl</code> with your user name and <code>arya.usc.edu</code> with your server ip address.</p><pre tabindex=0><code>ssh zekunl@arya.usc.edu
</code></pre><p>On the remote server, you can create a docker container by</p><pre tabindex=0><code> sudo nvidia-docker run --rm -ti  -p 9999:8888  -v /home/zekunl/detectNet:/home/zekunl/detectNet/ spatialcomputing/deep-learning-env-gpu
</code></pre><p> </p><p>the <code>-p</code> parameter maps the port inside container to remote server. <code>9999</code> is the <mark>remote server port</mark>, and <code>8888</code> is the <mark>container port</mark>. Remote server port can be any un-used port but the container port <strong>MUST</strong> be 8888 since its the port allocated for jupyter notebook.</p><p>If you have multiple docker instances and you’ve run the above command in the first instance, then in the other instance, you can still map the <code>8888</code> port in the container, but the second instance can not map to the <code>9999</code> port on remote server anymore, because it’s alreay occupied by the first docker instance.</p><p>Then we put up jupyter notebook inside the container:</p><pre tabindex=0><code>jupyter notebook --ip=0.0.0.0 --port=8888 --no-browser
</code></pre><p>The last thing is to forward the remote server port to local machine:</p><pre tabindex=0><code>ssh -N -L 9999:localhost:9999 zekunl@arya.usc.edu
</code></pre><p>If you open your browser and type <a href=http://localhost:9999 target=_blank rel=noopener>http://localhost:9999</a>, you will be prompted to enter the token for verification and the content inside docker will show up in the browser.</p></div><div class="row pl-3 pr-3"><div class="col-md-6 share-buttons"><strong>Share on:</strong>
<a class="btn btn-sm facebook-btn" href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fzekun-li.github.io%2fposts%2fserver-jupyter-docker%2f" target=_blank><i class="fab fa-facebook"></i></a>
<a class="btn btn-sm twitter-btn" href="https://twitter.com/share?url=https%3a%2f%2fzekun-li.github.io%2fposts%2fserver-jupyter-docker%2f&text=Run%20jupyter%20notebook%20in%20docker%20container%20on%20remote%20server&via=Zekun%27s%20Zone" target=_blank><i class="fab fa-twitter"></i></a>
<a class="btn btn-sm reddit-btn" href="https://reddit.com/submit?url=https%3a%2f%2fzekun-li.github.io%2fposts%2fserver-jupyter-docker%2f&title=Run%20jupyter%20notebook%20in%20docker%20container%20on%20remote%20server" target=_blank><i class="fab fa-reddit"></i></a>
<a class="btn btn-sm linkedin-btn" href="https://www.linkedin.com/shareArticle?url=https%3a%2f%2fzekun-li.github.io%2fposts%2fserver-jupyter-docker%2f&title=Run%20jupyter%20notebook%20in%20docker%20container%20on%20remote%20server" target=_blank><i class="fab fa-linkedin"></i></a>
<a class="btn btn-sm whatsapp-btn" href="https://api.whatsapp.com/send?text=Run%20jupyter%20notebook%20in%20docker%20container%20on%20remote%20server https%3a%2f%2fzekun-li.github.io%2fposts%2fserver-jupyter-docker%2f" target=_blank><i class="fab fa-whatsapp"></i></a>
<a class="btn btn-sm email-btn" href="mailto:?subject=Run%20jupyter%20notebook%20in%20docker%20container%20on%20remote%20server&body=https%3a%2f%2fzekun-li.github.io%2fposts%2fserver-jupyter-docker%2f" target=_blank><i class="fas fa-envelope-open-text"></i></a></div><div class="col-md-6 btn-improve-page"><a href=https://github.com/zekun-li/zekun-li.github.io/edit/main/content/posts/server-jupyter-docker/index.md title="Improve this page" target=_blank rel=noopener><i class="fas fa-code-branch"></i>
Improve this page</a></div></div><hr><div class="row next-prev-navigator"><div class="col-md-12 next-article"><a href=/posts/cuda-error/ title="CUDA Errors and Solutions" class="btn btn-outline-info"><div>Next <i class="fas fa-chevron-circle-right"></i></div><div class=next-prev-text>CUDA Errors and Solutions</div></a></div></div><hr></div></div></div><a id=scroll-to-top class=btn><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center pl-3">Table of Contents</h5><hr><div class=toc><nav id=TableOfContents></nav></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-left"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=https://zekun-li.github.io#about>About</a></li><li class=nav-item><a class=smooth-scroll href=https://zekun-li.github.io#education>Education</a></li><li class=nav-item><a class=smooth-scroll href=https://zekun-li.github.io#experiences>Experiences</a></li><li class=nav-item><a class=smooth-scroll href=https://zekun-li.github.io#publications>Publications</a></li><li class=nav-item><a class=smooth-scroll href=https://zekun-li.github.io#projects>Selected Projects</a></li><li class=nav-item><a class=smooth-scroll href=https://zekun-li.github.io#accomplishments>Accomplishments</a></li><li class=nav-item><a class=smooth-scroll href=https://zekun-li.github.io#recent-posts>Recent Posts</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=mailto:li002666%20[Shift+2]%20umn.edu target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>li002666 [Shift+2] umn.edu</span></a></li><li><a href=https://github.com/zekun-li target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>zekun-li</span></a></li></ul></div></div></div><hr><div class=container><div class="row text-left"><div class=col-md-4><a id=theme href=https://github.com/hugo-toha/toha target=_blank rel=noopener><img src=/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_3.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">© 2023 Copyright.</div><div class="col-md-4 text-right"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=/application.5a59a766e8e997f2f176c1b59c50483017895b01fb586f707e6bfb0b7fbbb07a.js integrity="sha256-WlmnZujpl/LxdsG1nFBIMBeJWwH7WG9wfmv7C3+7sHo=" defer></script></body></html>