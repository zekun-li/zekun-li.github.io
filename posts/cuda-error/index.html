<!doctype html><html lang=en><head><title>CUDA Errors and Solutions</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=/application.650f674fc19266f4ea6c7b54bb6a4ffad10dfa641e3bea6de0a8472a99807590.css integrity="sha256-ZQ9nT8GSZvTqbHtUu2pP+tEN+mQeO+pt4KhHKpmAdZA="><link rel=icon type=image/png href=/images/site/zk-favicon_hube1e813c2c2088aca28be8f9b74a2dca_16753_42x0_resize_box_3.png><meta property="og:title" content="CUDA Errors and Solutions"><meta property="og:description" content="CUDA Errors and Solutions"><meta property="og:type" content="article"><meta property="og:url" content="https://zekun-li.github.io/posts/cuda-error/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-06-08T08:06:25+06:00"><meta property="article:modified_time" content="2020-06-08T08:06:25+06:00"><meta name=description content="CUDA Errors and Solutions"><script async src="https://www.googletagmanager.com/gtag/js?id=G-DEQFKK2CDH"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-DEQFKK2CDH",{anonymize_ip:!1})}</script></head><body class="type-posts kind-page" data-spy=scroll data-target=#TableOfContents data-offset=80><div class="container-fluid bg-dimmed wrapper"><nav class="navbar navbar-expand-xl top-navbar final-navbar shadow"><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<span class=navbar-toggler-icon></span></button>
<a class=navbar-brand href=/><img src=/images/site/zk-main-transp_huafc6864d78c8fdec171d529e6199f4b7_107023_42x0_resize_box_3.png alt=Logo>
Zekun's Zone</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse lang-selector" id=top-nav-items><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=menu-icon-center src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme"></a>
<a class="dropdown-item nav-link" href=# data-scheme=dark><img class=menu-icon-center src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a>
<a class="dropdown-item nav-link" href=# data-scheme=system><img class=menu-icon-center src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div><img src=/images/site/zk-main-transp_huafc6864d78c8fdec171d529e6199f4b7_107023_42x0_resize_box_3.png class=d-none id=main-logo alt=Logo>
<img src=/images/site/zk-inverted-transp_hu109326400271da0b02bd55eeaf589ffc_103282_42x0_resize_box_3.png class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts/ data-filter=all>Posts</a></li><div class=subtree><li><a href=/posts/server-jupyter-docker/ title="Run jupyter notebook in docker container on remote server">Run jupyter notebook in docker container on remote server</a></li><li><a class=active href=/posts/cuda-error/ title="CUDA Errors and Solutions">CUDA Errors and Solutions</a></li><li><a href=/posts/clean-boot-dir/ title="Clean up boot directory when full">Clean up boot directory when full</a></li><li><a href=/posts/mapbox/ title="Display JPEG historical map tiles in Mapbox">Display JPEG historical map tiles in Mapbox</a></li><li><a href=/posts/mapnik/ title="Experience with Mapnik">Experience with Mapnik</a></li><li><a href=/posts/common-commands/ title="Common Commands">Common Commands</a></li><li><a href=/posts/dual-monitor/ title="Dual Monitors with Ubuntu 16.04 LTS">Dual Monitors with Ubuntu 16.04 LTS</a></li><li><a href=/posts/pi-timelapse/ title="Raspberry Pi Timelapse Video">Raspberry Pi Timelapse Video</a></li><li><a href=/posts/ssh-timeout/ title="Stop SSH connection from timeout">Stop SSH connection from timeout</a></li><li><a href=/posts/pi-connect-wifi/ title="Raspberry Pi Connect To WIFI with Command">Raspberry Pi Connect To WIFI with Command</a></li><li><a href=/posts/chatgpt-translation/ title="ChatGPT for Novel Translation">ChatGPT for Novel Translation</a></li><li><a href=/posts/github-keys/ title="Two Github Accounts with Two SSH Keys">Two Github Accounts with Two SSH Keys</a></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(/posts/cuda-error/hero.png)></div><div class=page-content><div class="author-profile ml-auto align-self-lg-center"><img class=rounded-circle src=/images/author/zekun_hub35c5a96dbe046beec5ae87b3c28a938_421003_120x120_fit_box_3.png alt="Author Image"><h5 class=author-name>Zekun Li</h5><p>Monday, June 8, 2020</p></div><div class=title><h1>CUDA Errors and Solutions</h1></div><div class=taxonomy-terms><ul style=padding-left:0><li class=rounded><a href=/tags/linux/ class="btn, btn-sm">linux</a></li><li class=rounded><a href=/tags/cuda/ class="btn, btn-sm">cuda</a></li></ul></div><div class=post-content id=post-content><p>CUDA is a parallel computing model created by Nvidia to assist the usage of GPU. It is widely used in the training of deep-learning models. It greatly speed up the computation in model training compared with its CPU-based counterpart. However we might encouter problems when using it, and here is a summarization of some common problems and the solutions. Please note that this post is not emphasizing on the installation of CUDA. For the installation, please refer to <a href=https://docs.nvidia.com/cuda/cuda-installation-guide-linux/index.html target=_blank rel=noopener>here</a>.</p><h4 id=unexpected-cublas-error>Unexpected cublas Error</h4><p>CUDA has been running smoothly for all the experiments until at one point, it throws error</p><pre tabindex=0><code> 2018-10-23 16:48:45.860068: E tensorflow/stream_executor/cuda/cuda_blas.cc:366] failed to create cublas handle: CUBLAS_STATUS_NOT_INITIALIZED
</code></pre><p>You check the GPU usage and definitely it is 0%. But there is no other process running on that GPU competing for resource. You have exactly the same environenment and the same code, but it just doesn’t work anymore. You scratch your head and don’t know what to do.</p><p>The reason for that is, when a cuda job crashes, the cache get corrupted. It couldn’t re-collect the resource that it allocated in the begining. When the crash happens a lot of times, the resource would be used up and then it reports fail to create cublas error. A simple solution would be clean the cache.</p><pre tabindex=0><code> rm -r ~/.nv
</code></pre><p>If this problem happens frequently, and have to run the above command very often, you might want to get out of the trouble by disabling the cache in the .bashrc file by adding this:</p><pre tabindex=0><code>CUDA_CACHE_DISABLE = 1
</code></pre></div><div class="row pl-3 pr-3"><div class="col-md-6 share-buttons"><strong>Share on:</strong>
<a class="btn btn-sm facebook-btn" href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fzekun-li.github.io%2fposts%2fcuda-error%2f" target=_blank><i class="fab fa-facebook"></i></a>
<a class="btn btn-sm twitter-btn" href="https://twitter.com/share?url=https%3a%2f%2fzekun-li.github.io%2fposts%2fcuda-error%2f&text=CUDA%20Errors%20and%20Solutions&via=Zekun%27s%20Zone" target=_blank><i class="fab fa-twitter"></i></a>
<a class="btn btn-sm reddit-btn" href="https://reddit.com/submit?url=https%3a%2f%2fzekun-li.github.io%2fposts%2fcuda-error%2f&title=CUDA%20Errors%20and%20Solutions" target=_blank><i class="fab fa-reddit"></i></a>
<a class="btn btn-sm linkedin-btn" href="https://www.linkedin.com/shareArticle?url=https%3a%2f%2fzekun-li.github.io%2fposts%2fcuda-error%2f&title=CUDA%20Errors%20and%20Solutions" target=_blank><i class="fab fa-linkedin"></i></a>
<a class="btn btn-sm whatsapp-btn" href="https://api.whatsapp.com/send?text=CUDA%20Errors%20and%20Solutions https%3a%2f%2fzekun-li.github.io%2fposts%2fcuda-error%2f" target=_blank><i class="fab fa-whatsapp"></i></a>
<a class="btn btn-sm email-btn" href="mailto:?subject=CUDA%20Errors%20and%20Solutions&body=https%3a%2f%2fzekun-li.github.io%2fposts%2fcuda-error%2f" target=_blank><i class="fas fa-envelope-open-text"></i></a></div><div class="col-md-6 btn-improve-page"><a href=https://github.com/zekun-li/zekun-li.github.io/edit/main/content/posts/cuda-error/index.md title="Improve this page" target=_blank rel=noopener><i class="fas fa-code-branch"></i>
Improve this page</a></div></div><hr><div class="row next-prev-navigator"><div class="col-md-6 previous-article"><a href=/posts/server-jupyter-docker/ title="Run jupyter notebook in docker container on remote server" class="btn btn-outline-info"><div><i class="fas fa-chevron-circle-left"></i> Prev</div><div class=next-prev-text>Run jupyter notebook in docker container on remote server</div></a></div><div class="col-md-6 next-article"><a href=/posts/clean-boot-dir/ title="Clean up boot directory when full" class="btn btn-outline-info"><div>Next <i class="fas fa-chevron-circle-right"></i></div><div class=next-prev-text>Clean up boot directory when full</div></a></div></div><hr></div></div></div><a id=scroll-to-top class=btn><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center pl-3">Table of Contents</h5><hr><div class=toc><nav id=TableOfContents><ul><li><ul><li><ul><li><a href=#unexpected-cublas-error>Unexpected cublas Error</a></li></ul></li></ul></li></ul></nav></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-left"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=https://zekun-li.github.io#about>About</a></li><li class=nav-item><a class=smooth-scroll href=https://zekun-li.github.io#education>Education</a></li><li class=nav-item><a class=smooth-scroll href=https://zekun-li.github.io#experiences>Experiences</a></li><li class=nav-item><a class=smooth-scroll href=https://zekun-li.github.io#publications>Publications</a></li><li class=nav-item><a class=smooth-scroll href=https://zekun-li.github.io#projects>Selected Projects</a></li><li class=nav-item><a class=smooth-scroll href=https://zekun-li.github.io#accomplishments>Accomplishments</a></li><li class=nav-item><a class=smooth-scroll href=https://zekun-li.github.io#recent-posts>Recent Posts</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=mailto:li002666%20[Shift+2]%20umn.edu target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>li002666 [Shift+2] umn.edu</span></a></li><li><a href=https://github.com/zekun-li target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>zekun-li</span></a></li></ul></div></div></div><hr><div class=container><div class="row text-left"><div class=col-md-4><a id=theme href=https://github.com/hugo-toha/toha target=_blank rel=noopener><img src=/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_3.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">© 2023 Copyright.</div><div class="col-md-4 text-right"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=/application.4418101ef7d72eefcf759484130fc50b216ad9c2182d1680b203aeb3c9f8dd43.js integrity="sha256-RBgQHvfXLu/PdZSEEw/FCyFq2cIYLRaAsgOus8n43UM=" defer></script></body></html>